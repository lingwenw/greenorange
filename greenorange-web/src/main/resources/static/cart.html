<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
	<title>我的购物车</title>
	<link rel="icon" href="./img/favicon.ico">

    <link rel="stylesheet" type="text/css" href="./css/all.css" />
    <link rel="stylesheet" type="text/css" href="./css/pages-cart.css" />
</head>

<body>
	<!--head-->
	<!-- 头部栏位 -->
	<!--页面顶部-->
<div id="nav-bottom">
	<!--顶部-->
	<div class="nav-top">
		<div class="top">
			<div class="py-container">
				<div class="shortcut">
					<ul class="fl">
						<li class="f-item">畅购欢迎您！</li>
						<li class="f-item">请<a href="login.html" target="_blank">登录</a>　<span><a href="register.html" target="_blank">免费注册</a></span></li>
					</ul>
					<div class="fr typelist">
						<ul class="types">
							<li class="f-item"><span>我的订单</span></li>
							
							<li class="f-item"><span><a href="cart.html" target="_blank">我的购物车</a></span></li>
							<li class="f-item"><span><a href="home.html" target="_blank">我的畅购</a></span></li>			
							<li class="f-item"><span>畅购会员</span></li>						
							<li class="f-item"><span>企业采购</span></li>						
							<li class="f-item"><span>关注畅购</span></li>
							<li class="f-item"><span><a href="cooperation.html" target="_blank">合作招商</a></span></li>
							<li class="f-item"><span><a href="shoplogin.html" target="_blank">商家后台</a></span></li>				
							<li class="f-item"><span>网站导航</li>
						</ul>
					</div>
					
				</div>
			</div>
		</div>

		<!--头部-->
		<div class="header">
			<div class="py-container">
				<div class="yui3-g Logo">
					<div class="yui3-u Left logoArea">
						<a class="logo-bd" title="畅购" href="index.html" target="_blank"></a>
					</div>
					<div class="yui3-u Rit searchArea">
						<div class="search">
							<form action="" class="sui-form form-inline">
								<!--searchAutoComplete-->
								<div class="input-append">
									<input id="autocomplete" type="text" class="input-error input-xxlarge" />
									<button class="sui-btn btn-xlarge btn-danger" type="button">搜索</button>
								</div>
							</form>
						</div>
					</div>
					
				</div>

			</div>
		</div>
	</div>
</div>

	
	<div class="cart py-container">
		<!--All goods-->
		<div class="allgoods">
			<h4>全部商品<span></span></h4>
			<div class="cart-main">
				<div class="yui3-g cart-th">
					<div class="yui3-u-1-4"><!--<input class="chooseAll" type="checkbox" name="" id="" value="" />--> 全部</div>
					<div class="yui3-u-1-4">商品</div>
					<div class="yui3-u-1-8">单价（元）</div>
					<div class="yui3-u-1-8">数量</div>
					<div class="yui3-u-1-8">小计（元）</div>
					<div class="yui3-u-1-8">操作</div>
				</div>
				<div class="cart-item-list">
					<div class="cart-body">
						<div class="cart-list">
							<ul class="goods-list yui3-g">
								<li class="yui3-u-1-24">
									<input type="checkbox" name="chk_list" name="" id="" value="1" />
								</li>
								<li class="yui3-u-6-24">
									<div class="good-item">
										<div class="item-img"><img src="./img/goods.png" /></div>
										<div class="item-msg">Apple Macbook Air 13.3英寸笔记本电脑 银色（Corei5）处理器/8GB内存</div>
									</div>
								</li>
								<li class="yui3-u-5-24">
									<div class="item-txt">颜色MzcBook爱人 银色（Corei5）处理器/8GB内存 尺寸：13.3英寸</div>
								</li>
								<li class="yui3-u-1-8"><span class="price">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a href="javascript:void(0)" class="increment mins">-</a>
									<input autocomplete="off" type="text" value="1" minnum="1" class="itxt" />
									<a href="javascript:void(0)" class="increment plus">+</a>
								</li>
								<li class="yui3-u-1-8"><span class="sum">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a class="cut_out" href="">删除</a><br />
									<a href="">移到收藏</a>
								</li>
							</ul>
						</div>
						<div class="cart-list">
							<ul class="goods-list yui3-g">
								<li class="yui3-u-1-24">
									<input type="checkbox" name="chk_list" name="" id="" value="2" />
								</li>
								<li class="yui3-u-6-24">
									<div class="good-item">
										<div class="item-img"><img src="./img/goods.png" /></div>
										<div class="item-msg">Apple Macbook Air 13.3英寸笔记本电脑 银色（Corei5）处理器/8GB内存</div>
									</div>
								</li>
								<li class="yui3-u-5-24">
									<div class="item-txt">颜色MzcBook爱人 银色（Corei5）处理器/8GB内存 尺寸：13.3英寸</div>
								</li>
								<li class="yui3-u-1-8"><span class="price">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a href="javascript:void(0)" class="increment mins">-</a>
									<input autocomplete="off" type="text" value="1" minnum="1" class="itxt" />
									<a href="javascript:void(0)" class="increment plus">+</a>
								</li>
								<li class="yui3-u-1-8"><span class="sum">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a class="cut_out" href="">删除</a><br />
									<a href="">移到收藏</a>
								</li>
							</ul>
						</div>
						<div class="cart-list">
							<ul class="goods-list yui3-g">
								<li class="yui3-u-1-24">
									<input type="checkbox" name="chk_list" name="" id="" value="3" />
								</li>
								<li class="yui3-u-6-24">
									<div class="good-item">
										<div class="item-img"><img src="./img/goods.png" /></div>
										<div class="item-msg">Apple Macbook Air 13.3英寸笔记本电脑 银色（Corei5）处理器/8GB内存</div>
									</div>
								</li>
								<li class="yui3-u-5-24">
									<div class="item-txt">颜色MzcBook爱人 银色（Corei5）处理器/8GB内存 尺寸：13.3英寸</div>
								</li>
								<li class="yui3-u-1-8"><span class="price">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a href="javascript:void(0)" class="increment mins">-</a>
									<input autocomplete="off" type="text" value="1" minnum="1" class="itxt" />
									<a href="javascript:void(0)" class="increment plus">+</a>
								</li>
								<li class="yui3-u-1-8"><span class="sum">8848.00</span></li>
								<li class="yui3-u-1-8">
									<a class="cut_out" href="#">删除</a><br />
									<a href="#">移到收藏</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<div class="cart-tool">
				<div class="select-all">
					<input class="chooseAll" type="checkbox"  name="" id="" value="" />
					<span>全选</span>
				</div>
				<div class="option">
					<a class="totalDelete" href="#none">删除选中的商品</a>
					<a href="#none">移到我的关注</a>
					<a href="#none">清除下柜商品</a>
				</div>
				<div class="money-box">
					<div class="chosed">已选择<span>0</span>件商品</div>
					<div class="sumprice">
						<span><em>总价（不含运费） ：</em><i class="summoney">¥16283.00</i></span>
						<span><em>已节省：</em><i>-¥20.00</i></span>
					</div>
					<div class="sumbtn">
						<a class="sum-btn" href="getOrderInfo.html" target="_blank">结算</a>
					</div>
				</div>
			</div>
			<div class="clearfix"></div>
			<div class="liked">
				<ul class="sui-nav nav-tabs">
					<li class="active">
						<a href="#index" data-toggle="tab">猜你喜欢</a>
					</li>
					<li>
						<a href="#profile" data-toggle="tab">特惠换购</a>
					</li>
				</ul>
				<div class="clearfix"></div>
				<div class="tab-content">
					<div id="index" class="tab-pane active">
						<div id="myCarousel" data-ride="carousel" data-interval="4000" class="sui-carousel slide">
							<div class="carousel-inner">
								<div class="active item">
									<ul>
										<li>
											<img src="./img/like1.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like2.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like3.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like4.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
									</ul>
								</div>
								<div class="item">
									<ul>
										<li>
											<img src="./img/like1.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like2.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like3.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
										<li>
											<img src="./img/like4.png" />
											<div class="intro">
												<i>Apple苹果iPhone 6s (A1699)</i>
											</div>
											<div class="money">
												<span>$29.00</span>
											</div>
											<div class="incar">
												<a href="#" class="sui-btn btn-bordered btn-xlarge btn-default"><i class="car"></i><span class="cartxt">加入购物车</span></a>
											</div>
										</li>
									</ul>
								</div>
							</div>
							<a href="#myCarousel" data-slide="prev" class="carousel-control left">‹</a>
							<a href="#myCarousel" data-slide="next" class="carousel-control right">›</a>
						</div>
					</div>
					<div id="profile" class="tab-pane">
						<p>特惠选购</p>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 底部栏位 -->
	<!--页面底部-->
<div class="clearfix footer">
	<div class="py-container">
		<div class="footlink">
			<div class="Mod-service">
				<ul class="Mod-Service-list">
					<li class="grid-service-item intro  intro1">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item  intro intro2">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item intro  intro3">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item  intro intro4">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
					<li class="grid-service-item intro intro5">

						<i class="serivce-item fl"></i>
						<div class="service-text">
							<h4>正品保障</h4>
							<p>正品保障，提供发票</p>
						</div>

					</li>
				</ul>
			</div>
			<div class="clearfix Mod-list">
				<div class="yui3-g">
					<div class="yui3-u-1-6">
						<h4>购物指南</h4>
						<ul class="unstyled">
							<li>购物流程</li>
							<li>会员介绍</li>
							<li>生活旅行/团购</li>
							<li>常见问题</li>
							<li>购物指南</li>
						</ul>

					</div>
					<div class="yui3-u-1-6">
						<h4>配送方式</h4>
						<ul class="unstyled">
							<li>上门自提</li>
							<li>211限时达</li>
							<li>配送服务查询</li>
							<li>配送费收取标准</li>
							<li>海外配送</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>支付方式</h4>
						<ul class="unstyled">
							<li>货到付款</li>
							<li>在线支付</li>
							<li>分期付款</li>
							<li>邮局汇款</li>
							<li>公司转账</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>售后服务</h4>
						<ul class="unstyled">
							<li>售后政策</li>
							<li>价格保护</li>
							<li>退款说明</li>
							<li>返修/退换货</li>
							<li>取消订单</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>特色服务</h4>
						<ul class="unstyled">
							<li>夺宝岛</li>
							<li>DIY装机</li>
							<li>延保服务</li>
							<li>品优购E卡</li>
							<li>品优购通信</li>
						</ul>
					</div>
					<div class="yui3-u-1-6">
						<h4>帮助中心</h4>
						<img src="./img/wx_cz.jpg">
					</div>
				</div>
			</div>
			<div class="Mod-copyright">
				<ul class="helpLink">
					<li>关于我们<span class="space"></span></li>
					<li>联系我们<span class="space"></span></li>
					<li>关于我们<span class="space"></span></li>
					<li>商家入驻<span class="space"></span></li>
					<li>营销中心<span class="space"></span></li>
					<li>友情链接<span class="space"></span></li>
					<li>关于我们<span class="space"></span></li>
					<li>营销中心<span class="space"></span></li>
					<li>友情链接<span class="space"></span></li>
					<li>关于我们</li>
				</ul>
				<p>地址：北京市昌平区建材城西路金燕龙办公楼一层 邮编：100096 电话：400-618-4000 传真：010-82935100</p>
				<p>京ICP备08001421号京公网安备110108007702</p>
			</div>
		</div>
	</div>
</div>
<!--页面底部END-->
<script type="text/javascript" src="./js/plugins/jquery/jquery.min.js"></script>
<script type="text/javascript">
	$(function () {
		$(".chooseAll").click(function(){
			$("input[name='chk_list']").prop("checked", $(this).prop("checked"));
		});
		//页面加载时，根据登录号用户id从数据库拿取这个用户所有商品数据
		// $.ajax({ url:"/goods/getAllLimit",data:{"userid":userid},success: function(data){
		// 	exhibit(data);
		// }});
		//删除点击时
		$(".cut_out").click(function () {
			var id=$(this).parent().parent().find("input[name='chk_list']").val();
			//根据商品id删除数据库数据
			// $.ajax({ url:"",data:{"id":id}, success: function(data){
			// 	exhibit(data);
			// }});
		});
		//删除所有选择商品
		$(".totalDelete").click(function () {
			var xuan=$("input[name='chk_list']");
			for (var i = 0; i <xuan.size(); i++) {
				if ($(xuan.get(i)).prop("checked")){
					var id=$(xuan.get(i)).val();
					//根据商品id删除数据库数据
					// $.ajax({ url:"",data:{"id":id}, success: function(data){
					// 	exhibit(data);
					// }});
				}
			}
		});
		//选择物品:单选
		$(".yui3-u-1-24").click(function () {
			var xuan=$("input[name='chk_list']");
			for (var i = 0; i <xuan.size(); i++) {
				if ($(xuan.get(i)).prop("checked")){
					var id=$(xuan.get(i)).val();
					moneys();
				}
			}
			if ($("input[name='chk_list']").prop("checked")){
				$(".chooseAll").prop("checked",true);
			}else{
				$(".chooseAll").prop("checked",false);
			}
		});
		//选择：全选
		$(".chooseAll").click(function () {
			var xuan=$("input[name='chk_list']");
			for (var i = 0; i <xuan.size(); i++) {
				if ($(xuan.get(i)).prop("checked")){
					var id=$(xuan.get(i)).val();
					moneys();
				}
			}
		});
		//点击“+”号时
		$(".plus").click(function () {
			var this_1=$(this);
			var minnum=parseInt($(this).prev().attr("minnum"));
			var value=parseInt($(this).prev().val());
			$(this).prev().attr("minnum",minnum+1);
			$(this).prev().val(value+1);
			//
			money(this_1);
		});
		//点击“-”号时
		$(".mins").click(function () {
			var this_1=$(this);
			var minnum=parseInt($(this).next().attr("minnum"));
			var value=parseInt($(this).next().val());
			if (value==1||minnum==1){
				return;
			} else {
				$(this).next().attr("minnum",minnum-1);
				$(this).next().val(value-1);
				//
				money(this_1);
			}
		});
	});
	//金钱的变化
	function money(this_1) {
			var id=$(this_1).parent().parent().find("input[name='chk_list']").val();
			var num=parseInt($(this_1).parent().find("input").val());
			var price=parseFloat($(this_1).parent().prev().find("span").text());
			var sum=parseFloat($(this_1).parent().next().find("span").text());
			var sums=parseFloat(price*num);
			$(this_1).parent().next().find("span").text(sums);
			//修改数据库数据
			// $.ajax({ url:"",data:{"id":id,"每单的个数":num,"每单的总价":sums}, success: function(data){
			// 	exhibit(data);
			// }});
	};
	//选择的总金钱
	function moneys() {
		var number=0;
		var total_amount=0;
		var xuan=$("input[name='chk_list']");
		for (var i = 0; i <xuan.size(); i++) {
			if ($(xuan.get(i)).prop("checked")){
				var id=$(xuan.get(i)).val();
				//根据id获取每单的数目以及每单的总价
				// $.ajax({ url:"",data:{"id":id}, success: function(data){
				// 		number=number+parseFloat("每单的数目");
				// 		total_amount=total_amount+parseFloat("每单的总价");
				// }});
			}
		}
		$(".chosed").text(number);
		$(".summoney").text(total_amount);
	};
	//从数据库拿取商品数据展示页面
	function exhibit(data) {
		var tbody=$(".cart-body");
		tbody.empty();
		var obj = eval(data);
		$(obj).each(function (index) {
			var val = obj[index];
			tbody.append("<div class='cart-list'><ul class='goods-list yui3-g'><li class='yui3-u-1-24'>"+
					"<input type='checkbox' name='chk_list' name='' id='' value="+"商品的id"+" /></li>"+
					"<li class='yui3-u-6-24'>"+
					"<div class='good-item'>"+
					"<div class='item-img'><img src="+"商品的图片"+"/></div>"+
					"<div class='item-msg'>"+"商品名"+"</div>"+
					"</div></li>"+
					"<li class='yui3-u-5-24'>"+
					"<div class='item-txt'>"+"商品型号"+"</div>"+
					"</li>"+
					"<li class='yui3-u-1-8'><span class='price'>"+"商品单价"+"</span></li>"+
					"<li class='yui3-u-1-8'>"+
					"<a href='javascript:void(0)' class='increment mins'>-</a>"+
					"<input autocomplete='off' type='text' value='1' minnum='1' class='itxt'/>"+
					"<a href='javascript:void(0)' class='increment plus'>+</a>"+
					"</li>"+
					"<li class='yui3-u-1-8'><span class='sum'>"+"这个商品的总价"+"</span></li>"+
					"<li class='yui3-u-1-8'>"+
					"<a class='cut_out' href=''>删除</a><br/>"+
					"<a href=''>移到收藏</a>"+
					"</li></ul></div>");
			//删除点击时
			$(".cut_out").click(function () {
				var id=$(this).parent().parent().find("input[name='chk_list']").val();
				//根据商品id删除数据库数据
				// $.ajax({ url:"",data:{"id":id}, success: function(data){
				// 	exhibit(data);
				// }});
			});
			//删除所有选择商品
			$(".totalDelete").click(function () {
				var xuan=$("input[name='chk_list']");
				for (var i = 0; i <xuan.size(); i++) {
					if ($(xuan.get(i)).prop("checked")){
						var id=$(xuan.get(i)).val();
						//根据商品id删除数据库数据
						// $.ajax({ url:"",data:{"id":id}, success: function(data){
						// 	exhibit(data);
						// }});
					}
				}
			});
			//选择物品:单选
			$(".yui3-u-1-24").click(function () {
				var xuan=$("input[name='chk_list']");
				for (var i = 0; i <xuan.size(); i++) {
					if ($(xuan.get(i)).prop("checked")){
						var id=$(xuan.get(i)).val();
						moneys();
					}
				}
				if ($("input[name='chk_list']").prop("checked")){
					$(".chooseAll").prop("checked",true);
				}else{
					$(".chooseAll").prop("checked",false);
				}
			});
			//选择：全选
			$(".chooseAll").click(function () {
				var xuan=$("input[name='chk_list']");
				for (var i = 0; i <xuan.size(); i++) {
					if ($(xuan.get(i)).prop("checked")){
						var id=$(xuan.get(i)).val();
						moneys();
					}
				}
			});
			//点击“+”号时
			$(".plus").click(function () {
				var this_1=$(this);
				var minnum=parseInt($(this).prev().attr("minnum"));
				var value=parseInt($(this).prev().val());
				$(this).prev().attr("minnum",minnum+1);
				$(this).prev().val(value+1);
				money(this_1);
			});
			//点击“-”号时
			$(".mins").click(function () {
				var this_1=$(this);
				var minnum=parseInt($(this).next().attr("minnum"));
				var value=parseInt($(this).next().val());
				if (value==1||minnum==1){
					return;
				} else {
					$(this).next().attr("minnum",minnum-1);
					$(this).next().val(value-1);
					money(this_1);
				}
			});
		});
	};
	//
</script>

</body>

</html>